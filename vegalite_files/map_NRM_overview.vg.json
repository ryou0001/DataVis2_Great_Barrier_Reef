{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",

        "width": 610,
        "height": 600,
        "padding": 0,
        "title": { "text": ["Natural Resource Management (NRM) Regions", "and Population Centres with >2000 people"], "fontSize": 14 },
        "params": [
            {
                "name": "zoom_level",
                "value": 1686,
                "bind": {
                    "input": "range",
                    "min": 1686,
                    "max": 6000,
                    "step": 100,
                    "name": "Zoom: "
                }
            },
            {
                "name": "center_to",
                "value": [7.2, -6],
                "bind": {
                "input": "select",
                "options": [
                    [5, -2],
                    [7.2, -6],
                    [9, -10]
                ],
                "labels": ["North Queensland", "Central Coast Queensland", "South Queensland"],
                "name": "Map Centre: "
                }
            }
        ],
        "projection": {"type": "azimuthalEqualArea", "rotate":[-141, 14], "scale": {"expr": "zoom_level"}, "center": {"expr": "center_to"}},
        "view": {"fill": "lightblue"},
        "layer": [
            {
            "data": {
                "name": "GBR_boundary",
                "url": "vegalite_files/maps/GBR_boundary.json",
                "format": {"type": "topojson", "feature": "GBR_boundary"}
            },
            "mark": {"type": "geoshape", "fill": "white", "stroke": "darkgray", "opacity": 1}
            },
            {
            "data": {
                "name": "GBR_boundary",
                "url": "vegalite_files/maps/GBR_boundary.json",
                "format": {"type": "topojson", "feature": "GBR_boundary"}
            },
            "mark": {"type": "geoshape", "fill": "lightgray", "stroke": "darkgray", "opacity": 0.7}
            },
            {
                "data": {
                    "url": "vegalite_files/maps/queensland_surrounds.json",
                    "format": {"type": "topojson", "feature": "STE_2021_AUST_GDA2020"}
                },
                "mark": {"type": "geoshape", "fill": "lightgray", "stroke": "darkgray"}
            },
            {
                "data": {
                    "url": "vegalite_files/maps/queensland.json",
                    "format": {"type": "topojson", "feature": "ne_10m_admin_1_states_provinces"}
                },
                "mark": {"type": "geoshape", "fill": "white", "stroke": "darkgray"}
            },
            {
                "data": {
                    "url": "vegalite_files/maps/NRM_regions_2020.json",
                    "format": {"type": "topojson", "feature": "NRM_regions_2020"}
                },
                "mark": {
                    "type": "geoshape", 
                    "stroke": "darkgray",
                    "opacity": 0.3
                },
				"encoding": {
                  "color": {
                    "field": "properties.NRM_REGION",
                    "scale": {"scheme": "dark2"},
                    "legend": null
                  }
				}
            },{
            "data": {"values": {"state": "QUEENSLAND", "x": 146, "y": -27.5}},
            "mark": {"type": "text", "fontSize": 28, "color": "darkgray"},
            "encoding": {
                "text": {"field": "state", "type": "nominal"},
                "longitude": {"field": "x"}, 
                "latitude": {"field": "y"}}
            },{
            "data": {"values":[
              {"longitude": 145.1, "latitude": -12.5, "label": ["CAPE YORK", "Population: 17,206"]},
              {"longitude": 147.5, "latitude": -17, "label": ["WET TROPICS", "Population: 250,000"]},
              {"longitude": 149.8, "latitude": -18.8, "label": ["BURDEKIN", "Population: 240,000"]},
              {"longitude": 153.5, "latitude": -20.4, "label": ["MACKAY","WHITSUNDAY", "Population: 189,643"]},
              {"longitude": 154, "latitude": -22.6, "label": ["FITZROY", "Population: 235,000"]},
              {"longitude": 154, "latitude": -25.3, "label": ["BURNETT MARY", "Population: 350,000"]}
            ]},
            "mark": {"type": "text", "align": "left", "fontSize": 13},
            "encoding": {
              "text": {"field": "label"},
              "longitude": {"field": "longitude"},
              "latitude": {"field": "latitude"}
            }
            },{
            "data": {"values":[
              {"longitude1": 144, "latitude1": -13, "longitude2": 145.1, "latitude2": -12.5},
              {"longitude1": 146.2, "latitude1": -17.4, "longitude2": 147.5, "latitude2": -17},
              {"longitude1": 147.8, "latitude1": -19.3, "longitude2": 149.8, "latitude2": -18.8},
              {"longitude1": 150.1, "latitude1": -20.8, "longitude2": 153.5, "latitude2": -20.4},
              {"longitude1": 151.2, "latitude1": -22.9, "longitude2": 154, "latitude2": -22.6},
              {"longitude1": 152.9, "latitude1": -25.5, "longitude2": 154, "latitude2": -25.3}
            ]},
            "mark": {"type": "line", "opacity": 0.3, "color":"black"},
            "encoding": {
                "longitude": {"field": "longitude1"},
                "latitude": {"field": "latitude1"},
                "longitude2": {"field": "longitude2"},
                "latitude2": {"field": "latitude2"}
            }
            },
    {
    "data": {
        "url": "vegalite_files/maps/ne_10m_graticules_5.json",
        "format": {"type": "topojson", "feature": "ne_10m_graticules_5"}
    },
    "mark": {"type": "geoshape", "stroke": "darkgrey", "fill": null, "opacity": 0.3}
    },
    {
    "data": {
        "url": "vegalite_files/maps/Population_centres.csv"
    },
    "encoding": {
        "longitude": {"field": "long", "type": "quantitative"}, 
        "latitude": {"field": "lat", "type": "quantitative"},
                    "text": {"field": "name", "type": "nominal"}},
        "mark": {"type": "text", "dx":-16, "align":"right", "color": "black", "opacity": 0.8}
    },
    {
        "data": {"url": "vegalite_files/data/Population_centres.csv"},
        "transform": [{"filter": "datum.population > 2000"}],
        "mark": {"type":"circle","color":"black", "stroke": "white"},
        "encoding": {
            "longitude": {"field": "long", "type": "quantitative"},
            "latitude": {"field": "lat", "type": "quantitative"},
            "size": {
                "field": "population", 
                "type": "quantitative",
                
                "legend": {
                    "title": "Population", 
                    "strokeColor": "black",
                    "fillColor": "white",
                    "padding": 10,
                    "orient": "none",
                    "legendX": 480, 
                    "legendY": 30}},
            "opacity": {"value": 0.7},
            "tooltip": [
                {"field": "name", "title": "Population centre name"},
                {"field": "population", "format": ",", "title": "Population"}
        ]
        }
    }

        ]
    }